<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="guildo-game" value="notranslate">
	<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="description" content="Guildo game development.">
	<title>Guildo Game</title>
	<link rel="stylesheet" href="assets/components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/init.css">
	<link rel="stylesheet" href="assets/css/personagens.css">
</head>
<body>
<div class="container">
	
	<div id="fase">
		<div id="guildo"></div>
		<div id="mapa"></div>
	</div>

	<div class="showPosition">
		<div>Pos:</div>
		<div id="left"></div>
		<div>:</div>
		<div id="top"></div>
	</div>
	
	
	<div id="blocklyDiv"></div>
	<xml id="toolbox" style="display: none">
	 	<block type="controls_if"></block>
  		<block type="controls_whileUntil"></block>
  		<block type="text"></block>
		<block type="text_print"></block>
	</xml>
	
	
	<!-- Botões de ações do jogo -->
	<!-- <div class="row">
		<div class="col-sm-6 botoes-acoes">
			<button type="button" class="btn btn-success"><i class="glyphicon glyphicon-play"></i> Iniciar</button>
			<button type="button" class="btn btn-primary"><i class="glyphicon glyphicon-stop"></i> Parar</button>
			<button type="button" class="btn btn-danger"><i class="glyphicon glyphicon-refresh"></i> Recarregar</button>
			<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-cog"></i> Configurações</button>
		</div>
	</div> -->

</div><!-- .container -->

<script src="assets/components/jquery/dist/jquery.min.js"></script>
<script src="assets/components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="assets/components/google-blockly/blockly_compressed.js"></script>
<script src="assets/components/google-blockly/blocks_compressed.js"></script>
<script src="assets/components/google-blockly/javascript_compressed.js"></script>
<script src="assets/components/google-blockly/msg/js/pt-br.js"></script>
<script src="assets/js/script.js"></script>
<script type="text/javascript">
	
	//Carrega commandos do blockly
	
	var workspace = Blockly.inject('blocklyDiv',{
		toolbox: document.getElementById('toolbox')
	});
	
	
    $(document).ready(function(){
		//Carrega estado atual do personagem
		$('#guildo').addClass('front-stand');
		$('#top').html(charY);
		$('#left').html(charX);
    });

    //keyDown Function
	$(document).keydown(function(e){

		if (!currentKey && $("#guildo").queue("fx").length == 0 && $('#mapa').queue("fx").length == 0 ) {

			//set the currentKey to the key that is down
			currentKey = e.keyCode;
			//execute character movement function moveChar('direction')
			switch(e.keyCode) {

				case 38: moveChar('up');    break;
				case 39: moveChar('right'); break;
				case 40: moveChar('down');  break;
				case 37: moveChar('left');  break;

			}

		}

	});

	//KeyUp Function
	$(document).keyup(function(e) {

		//don't stop the walk if the player is pushing other buttons
		//only stop the walk if the key that started the walk is released
		if (e.keyCode == currentKey) {
			//set the currentKey to false, this will enable a new key to be pressed
			currentKey = false;
		}

	});
</script>
</body>
</html>
